<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The <title> is inserted by Flourish -->

	<!-- Link to a stylesheet, or include an inline <style> section here -->
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" href="./lib/css/main.css">

	<!-- CSS only -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

	<!-- Libraries -->
	<script src="./lib/plotly.min.js"></script>
	<script src="./lib/lodash.min.js"></script>
	<script src="https://kit.fontawesome.com/4d74d4b585.js" crossorigin="anonymous"></script>
	<!-- JavaScript Bundle with Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
		crossorigin="anonymous"></script>
	<script src="./lib/bundle.js" type="module"></script>
</head>

<body>
	<!-- If you want to start with a non-empty document, add elements here -->
	<!-- Relative links are rewritten to refer to the files in the static directory -->

	<!-- <button id="log" class="btn btn-danger">Log</button> -->
	<!-- Settings Menu -->
	<div id="onboardingSettingsBtn">
		<span><strong>Note:</strong> The <strong>customization menu</strong> and <strong>save button</strong> will be
			removed once you publish it! This is only in the editor.</span>
		<div>
			<button id="btnOnboardingSettings" type="button" class="btn btn-warning btn-sm" title="Settings"><i
					class="fa-solid fa-gear"></i></button>
			<button id="btnSave" type="button" class="btn btn-warning btn-sm" title="Save"><i
					class="fa-solid fa-floppy-disk"></i></button>
		</div>
	</div>

	<!-- Modal Save -->
	<div class="modal fade" id="onboardingSave" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
		aria-labelledby="saveDialogHeading" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="saveDialogHeading">VisAhoi - <strong>SAVE</strong></h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="card card-bordered">
						<div class="card-body">
							<small><strong>Note:</strong> In order to save your custom-made onboarding and your changes,
								you have to copy and paste the string in the settings panel of Flourish
								(see the Guide for more and detailed instructions).
							</small>
						</div>
					</div>
					<br />
					<h5>Stage Data</h5>
					<small>Copy all of the text below and paste it into the <mark>“Save your added Onboarding
							Stages</mark> field
						in the
						settings panel.</small>
					<div class="input-group">
						<input id="stageInput" type="text" class="form-control" onselectstart="return false"
							onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false"
							onDrop="return false" readonly />
						<button class="btn btn-warning btn-lg w-25" data-clipboard-target="#stageInput">
							Copy &nbsp; <i class="fa-solid fa-clipboard fa-lg"></i>
						</button>
					</div>
					<br />
					<p>
						<button class="btn btn-sm btn-light" type="button" data-bs-toggle="collapse"
							data-bs-target="#explainStage" aria-expanded="false" aria-controls="explainStage">
							Guide
						</button>
					</p>
					<div class="collapse" id="explainStage">
						<div class="card card-body" style="font-size: 0.9em;">
							<ol>
								<li>Copy the content of the <strong>Stage Data</strong> field here - it's all the data
									you
									modified. You can copy it with the <i class="fa-solid fa-clipboard"></i> button.
								</li>
								<li>Go to the <strong>Settings Panel</strong> on the right of the editor. Open the
									“Onboarding” category if it is not open already.</li>
								<li>At the bottom you will find a <strong>textarea</strong> with a label of
									<mark>“Save your added Onboarding Stages</mark>.
									Click inside of the area and paste everything.
								</li>
								<li>If there is something inside make sure you remove it first.</li>
								<li><strong>Thats it!!</strong></li>
							</ol>
						</div>
					</div>
					<hr />
					<h5>Message Data</h5>
					<small>Copy all of the text below and paste it into the <mark>“Save your added Onboarding
							Messages”</mark>
						field in the
						settings panel.</small>
					<div class="input-group">
						<input id="messageInput" type="text" class="form-control" onselectstart="return false"
							onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false"
							onDrop="return false" readonly />
						<button class="btn btn-warning btn-lg w-25" data-clipboard-target="#messageInput">
							Copy &nbsp; <i class="fa-solid fa-clipboard fa-lg"></i>
						</button>
					</div>
					<br />
					<p>
						<button class="btn btn-sm btn-light" type="button" data-bs-toggle="collapse"
							data-bs-target="#explainMsg" aria-expanded="false" aria-controls="explainMsg">
							Guide
						</button>
					</p>
					<div class="collapse" id="explainMsg">
						<div class="card card-body" style="font-size: 0.8em;">
							<ol>
								<li>Copy the content of the <strong>Message Data</strong> field here - it's all the data
									you
									modified. You can copy it with the <i class="fa-solid fa-clipboard"></i> button.
								</li>
								<li>Go to the <strong>Settings Panel</strong> on the right of the editor. Open the
									“Onboarding” category if it is not open already.</li>
								<li>At the bottom you will find a <strong>textarea</strong> with a label of
									<mark>“Save your added Onboarding Messages”</mark>.
									Click inside of the area and paste everything.
								</li>
								<li>If there is something inside make sure you remove it first.</li>
								<li><strong>Thats it!!</strong></li>
							</ol>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-outline-dark" data-bs-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal Settings -->
	<div class="modal fade" id="onboardingSettings" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
		aria-labelledby="onboardingDialogHeading" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="onboardingDialogHeading">VisAhoi - Customization</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div id="specialTab" class="m-1">
						<ul class="nav nav-tabs" id="onboardingTab">
							<li class="nav-item">
								<a href="#add" class="nav-link active" data-bs-toggle="tab"><i
										class="fa-solid fa-plus"></i> Add</a>
							</li>
							<li class="nav-item">
								<a href="#edit" class="nav-link" data-bs-toggle="tab"><i
										class="fa-solid fa-pen-to-square"></i> Edit</a>
							</li>
						</ul>
						<div class="tab-content">
							<div class="tab-pane fade show active" id="add">
								<!-- ADD Form -->
								<div class="wrapper">
									<!-- Stage -->
									<form id="formStage" novalidate>
										<div class="row">
											<div class="d-inline-flex">
												<h4>Add Onboarding Stage</h4>
												<button class="btnExplainTerms" type="button" data-bs-toggle="collapse"
													data-bs-target="#explainOnboardingStage" aria-expanded="false"
													aria-controls="explainOnboardingStage"
													title="What is a Onboarding Stage?">
													<i class="fa-solid fa-question"></i>
												</button>
											</div>
											<div class="collapse" id="explainOnboardingStage">
												<div class="card card-body">
													<img id="explainStageImg" src="./media/onboarding-stages-help.png"
														class="rounded" alt="Explaination of Onboarding Stages...">
												</div>
											</div>
											<hr class="mt-1 mb-4 customDivider">
										</div>
										<div class="row mb-3">
											<div class="col-md-6">
												<label for="addTitle" class="form-label">Title</label>
												<input type="text" class="form-control" id="addTitle"
													placeholder="Enter a title..." data-visahoi-name="title" required>
												<span class="form-text">
													The title of the stage.
												</span>
												<div class="invalid-feedback">
													A title can not be empty.
												</div>
											</div>
											<div class="col-md-6">
												<label for="addColor" class="form-label">Color</label>
												<input type="color" class="form-control form-control-color"
													id="addColor" placeholder="Enter a color... "
													data-visahoi-name="backgroundColor" required>
												<span class="form-text">The color of the stage and it's messages.</span>
											</div>
										</div>
										<div class="row mb-3">
											<div class="col-md-12">
												<label for="addIcon" class="form-label">Icon</label>
												<input type="text" class="form-control" id="addIcon"
													placeholder="Enter a icon name..." pattern="fa[srla]? fa-\w[\w-]*"
													data-visahoi-name="iconClass" required>
												<span class="form-text">Only FontAwesome 5 icons are available (e.g. "fa
													fa-thumbs-up" or "fas fa-fire"). See: <a href="https://fontawesome.com/v5/search"
														target="_blank" class="link-dark">https://fontawesome.com/v5/search</a></span>
												<div class="invalid-feedback">
													Not a valid FontAwesome 5 icon. Format must be fa fa-*, fas fa-*, fad fa-* or fal fa-*.
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-12 clearfix">
												<button id="btnStage" class="btn btn-dark w-25 float-end">Add
													Stage</button>
											</div>
										</div>
									</form>

									<!-- Message -->
									<form id="formMessage" novalidate>
										<div class="row mt-5">
											<div class="d-inline-flex">
												<h4>Add Onboarding Message</h4>
												<button class="btnExplainTerms" type="button" data-bs-toggle="collapse"
													data-bs-target="#explainOnboardingMessage" aria-expanded="false"
													aria-controls="explainOnboardingMessage"
													title="What is a Onboarding Message?">
													<i class="fa-solid fa-question"></i>
												</button>
											</div>
											<div class="collapse" id="explainOnboardingMessage">
												<div class="card card-body">
													<img id="explainStageImg" src="./media/onboarding-messages-help.png"
														class="rounded" alt="Explaination of Onboarding Messages...">
												</div>
											</div>
											<hr class="mt-1 mb-4 customDivider">
										</div>
										<div class="row mb-3">
											<div class="col-md-12">
												<label for="addSelectMsg" class="form-label">Onboarding Stage</label>
												<select id="addSelectMsg" class="form-select"
													data-visahoi-name="onboardingStage" required>
													<option value="" disabled selected hidden>Choose...</option>
												</select>
												<span class="form-text">
													The onboarding stage it should be attached to.
												</span>
												<div class="invalid-feedback">
													The message can not be empty.
												</div>
											</div>
										</div>
										<div class="row mb-4">
											<div class="col-md-12">
												<label for="addTitleMsg" class="form-label">Title</label>
												<input type="text" class="form-control" id="addTitleMsg"
													placeholder="Enter a title..." data-visahoi-name="title" required>
												<span class="form-text">
													The title of the message.
												</span>
												<div class="invalid-feedback">
													A title can not be empty.
												</div>
											</div>
										</div>
										<div class="row mb-4">
											<div class="col-md-12">
												<label for="addTextMsg" class="form-label">Text</label>
												<textarea class="form-control" id="addTextMsg" rows="4"
													placeholder="Enter your text..." data-visahoi-name="text"
													required></textarea>
												<span class="form-text">
													The content of the message.
												</span>
												<div class="invalid-feedback">
													Please enter a message in the textarea.
												</div>
											</div>
										</div>
										<div class="row mb-3">
											<div class="col-md-3">
												<label for="addXMsg" class="form-label">Absolute Position (x, y)</label>
												<div class="input-group">
													<input type="number" placeholder="X" class="form-control"
														id="addXMsg" required>
													<input type="number" placeholder="Y" class="form-control"
														id="addYMsg" required>
													<div class="invalid-feedback">
														The x and y values have to be provided.
													</div>
												</div>
											</div>
											<div class="col-md-6" style="margin-top: 28px;">
												<button id="btnInspect" class="btn btn-dark p-2 rounded-1"><i
														class="fa fa-crosshairs fa-lg"></i></button>
												<span class="form-text" style="margin-left: 10px;">
													You can use the picker in order to grab the coordinates.
												</span>
											</div>
										</div>
										<div class="row">
											<div class="col-12 clearfix">
												<button id="btnMessage" class="btn btn-dark w-25 float-end">Add
													Message</button>
											</div>
										</div>
									</form>
								</div>
							</div>
							<div class="tab-pane fade" id="edit">
								<!-- EDIT Form -->
								<div class="wrapper">
                                    <div class="row">
										<div class="d-inline-flex">
											<h4>Edit Onboarding Stages</h4>
											<button class="btnExplainTerms" type="button" data-bs-toggle="collapse"
												data-bs-target="#explainOnboardingStage" aria-expanded="false"
												aria-controls="explainOnboardingStage"
												title="What is a Onboarding Stage?">
												<i class="fa-solid fa-question"></i>
											</button>
										</div>
										<div class="collapse" id="explainOnboardingStage">
											<div class="card card-body">
												<img id="explainStageImg" src="./media/onboarding-stages-help.png"
													class="rounded" alt="Explaination of Onboarding Stages...">
											</div>
										</div>
                                        <hr class="mt-1 mb-4 customDivider">
                                        <small class="mb-4"><strong>Explanation</strong>:
                                            <ul>
                                                <li>Drag and Drop the a stage (list item) to reorder it.</li>
												<li>Click on the <i class="fas fa-edit"></i>&nbsp; icon to edit a stage.</li>
                                                <li>Click on the <i class="fas fa-trash-alt"></i>&nbsp; icon to delete a stage.</li>
                                                <li style="list-style: none"><mark>Warning!</mark> This will also delete all messages 
													that are associated with the stage.</li>
                                            </ul>
                                        </small>
                                    </div>
                                    <div class="row">
                                        <div class="col-8">
                                            <ul id="sortableList" class="list-group"></ul>
                                        </div>
                                        <div class="col-4">
                                            <!-- Stage Edit -->
                                            <form id="formStageEdit" novalidate>
                                                <div class="row">
                                                    <div class="alert alert-warning text-center" role="alert">
                                                        <strong>Editing Stage!</strong>
                                                    </div>
													<input type="text" class="form-control beGone" id="editId" data-visahoi-name="id" />
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-md-12">
                                                        <label for="editTitle" class="form-label">Title</label>
                                                        <input type="text" class="form-control" id="editTitle"
                                                            placeholder="Enter a title..." data-visahoi-name="title"
                                                            required>
                                                        <span class="form-text">
                                                            The title of the stage.
                                                        </span>
                                                        <div class="invalid-feedback">
                                                            A title can not be empty.
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-md-12">
                                                        <label for="editColor" class="form-label">Color</label>
                                                        <input type="color" class="form-control form-control-color"
                                                            id="editColor" placeholder="Enter a color... "
                                                            data-visahoi-name="backgroundColor" required>
                                                        <span class="form-text">The color of the stage and it's
                                                            messages.</span>
                                                    </div>
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-md-12">
                                                        <label for="editIcon" class="form-label">Icon</label>
														<input type="text" class="form-control" id="editIcon"
														placeholder="Enter a icon name..." pattern="fa[srla]? fa-\w[\w-]*"
														data-visahoi-name="iconClass" required>
														<span class="form-text">Only FontAwesome 5 icons are available (e.g. "fa
															fa-thumbs-up" or "fas fa-fire"). See: <a href="https://fontawesome.com/v5/search"
																target="_blank" class="link-dark">https://fontawesome.com/v5/search</a></span>
														<div class="invalid-feedback">
															Not a valid FontAwesome 5 icon. Format must be fa fa-*, fas fa-*, fad fa-* or fal fa-*.
														</div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                                        <button id="btnEditCancel"
                                                            class="btn btn-outline-dark">Cancel</button>
                                                        <button id="btnEditStage" class="btn btn-dark">Save</button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-outline-dark" data-bs-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Overlay -->
	<div id="overlay">
		<div id="text">
			<p>Click somewhere to pick a coordinate!</p>
			<p>Hit <strong>ESC</strong> to cancel!</p>
		</div>
	</div>
</body>

</html>